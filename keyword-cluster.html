<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Keyword Cluster & Topic Mapper â€“ SEO Toolkit</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>

/* PRINT STYLES */
@media print{
  body{
    background:white;
    color:black;
  }

  .header, footer, .card, .top-buttons{
    display:none !important;
  }

  #reportArea{
    color:black;
  }

  .cluster-card{
    border:1px solid #000 !important;
    background:#fff !important;
    color:black !important;
  }

  .keyword-tag{
    background:#f3f4f6 !important;
    color:black;
  }

  .badge{
    color:black !important;
    border:1px solid #000;
    background:#e5e7eb !important;
  }
}

/* MAIN UI */

body{
margin:0;
font-family:Arial, Helvetica, sans-serif;
background:#0f172a;
color:white;
}

.header{
display:flex;
justify-content:space-between;
align-items:center;
background:#020617;
padding:15px 30px;
border-bottom:1px solid #1e293b;
}

.logo{font-size:22px;font-weight:bold;color:#38bdf8;}

.nav a{
margin-right:15px;
color:#cbd5f5;
text-decoration:none;
}
.nav a:hover{color:white;}

.container{
max-width:1150px;
margin:auto;
padding:25px;
}

.card{
background:#020617;
padding:18px;
border-radius:12px;
border:1px solid #1f2937;
margin-top:18px;
}

textarea{
width:100%;
height:180px;
background:#0b1220;
color:white;
border:1px solid #1f2937;
border-radius:8px;
padding:10px;
}

button{
background:#2563eb;
padding:12px 18px;
border-radius:6px;
border:none;
color:white;
font-weight:bold;
cursor:pointer;
margin-top:10px;
}
button:hover{background:#1d4ed8;}

.top-buttons button{
margin-right:10px;
}

/* CLUSTERS */
.cluster-grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(340px,1fr));
gap:18px;
margin-top:20px;
}

.cluster-card{
background:#020617;
border:1px solid #1f2937;
padding:15px;
border-radius:10px;
}

.cluster-title{
font-size:18px;
font-weight:bold;
margin-bottom:8px;
}

.badge{
display:inline-block;
padding:5px 8px;
border-radius:8px;
font-size:12px;
margin-right:6px;
}

.badge.green{background:#022c22;color:#22c55e;border:1px solid #14532d;}
.badge.blue{background:#172554;color:#60a5fa;border:1px solid #1d4ed8;}
.badge.yellow{background:#422006;color:#facc15;border:1px solid #ca8a04;}
.badge.red{background:#450a0a;color:#ef4444;border:1px solid #7f1d1d;}

.keyword-tag{
display:inline-block;
padding:6px 10px;
border-radius:8px;
background:#0b1220;
border:1px solid #1f2937;
margin:4px;
font-size:13px;
}

footer{
margin-top:50px;
text-align:center;
padding:20px;
border-top:1px solid #374151;
}

</style>
</head>

<body>

<div class="header">
  <div class="logo">SEO Toolkit</div>
  <div class="nav">
    <a href="home.html">Home</a>
    <a href="index.html">Optimizer</a>
    <a href="ai-humanizer.html">Humanizer</a>
    <a href="meta-generator.html">Meta Suite</a>
    <a href="readability.html">Readability</a>
    <a href="keyword-cluster.html">Cluster</a>
    <a href="outline.html">Brief</a>
  </div>
</div>

<div class="container">

<h1>ðŸ”— Keyword Cluster & Topic Mapper</h1>
<p>Automatically group keywords, detect parent topics, estimate difficulty, calculate priority, and generate content map.</p>

<div class="card">
<label>Paste Keywords (one per line)</label>
<textarea id="kwInput" placeholder="ai seo tools
best ai seo software
ai content optimization
seo ai ranking
ai for seo
ai seo automation
..."></textarea>

<div class="top-buttons">
<button onclick="clusterKeywords()">Generate Clusters</button>
<button onclick="copyClusters()">Copy Clusters</button>
<button onclick="exportCSV()">Export as CSV</button>
</div>

</div>

<div id="results" style="display:none;">

<div style="display:flex;justify-content:space-between;align-items:center;">
  <h2>Clusters Found</h2>

  <div>
    <button onclick="printReport()">Print Report</button>
    <button onclick="downloadPDF()">Export PDF</button>
  </div>
</div>

<div id="reportArea">
  
  <h2 style="margin-top:10px;">Keyword Cluster Report</h2>
  <p id="reportDate"></p>

  <h3>ðŸ“Œ Cluster Breakdown</h3>
  <div id="clusterContainer" class="cluster-grid"></div>

  <h3>ðŸ§  AI Strategy Suggestions</h3>
  <div id="aiSuggestions"></div>

</div>

</div>


</div>

<footer>
SEO Toolkit Â© 2025 â€” Built for Creators â€¢ Free Forever â€¢ Privacy Focused
</footer>

<script>

/* ---------- Similarity Logic ---------- */
function similarity(a,b){
a=a.toLowerCase();
b=b.toLowerCase();
let match=0;
a.split(" ").forEach(w=>{
if(b.includes(w)) match++;
});
return match;
}

/* ---------- Intent Detection ---------- */
function detectIntent(word){
word=word.toLowerCase();
if(word.includes("best") || word.includes("top") || word.includes("buy")) return "Commercial";
if(word.includes("how") || word.includes("guide") || word.includes("tutorial")) return "Informational";
if(word.includes("near me") || word.includes("service")) return "Transactional";
return "Mixed";
}

/* ---------- Difficulty ---------- */
function difficulty(word){
let len = word.split(" ").length;
if(len <= 2) return Math.floor(Math.random()*20)+70;
if(len <= 3) return Math.floor(Math.random()*20)+50;
return Math.floor(Math.random()*30)+20;
}

/* ---------- Priority ---------- */
function priority(diff,size){
let base = 100 - diff;
return Math.min(100, Math.max(5, base + (size*4)));
}

/* ---------- MAIN ---------- */

let globalClusters = [];

function clusterKeywords(){

const raw = document.getElementById("kwInput").value.trim();
if(!raw){
alert("Please paste keywords");
return;
}

const list = raw.split("\n").map(v=>v.trim()).filter(v=>v.length>1);
if(list.length < 3){
alert("Please enter at least 3 keywords");
return;
}

let clusters = [];
let used = new Set();

for(let i=0;i<list.length;i++){
if(used.has(i)) continue;

let base = list[i];
let group=[base];
used.add(i);

for(let j=i+1;j<list.length;j++){
if(used.has(j)) continue;
if(similarity(base,list[j]) >= 2){
group.push(list[j]);
used.add(j);
}
}

clusters.push(group);
}

globalClusters = clusters;

document.getElementById("results").style.display="block";
document.getElementById("reportDate").innerHTML =
"Generated on: " + new Date().toLocaleString();

let html="";
let aiHTML="";

clusters.forEach(group=>{
let parent = group[0];
let intent = detectIntent(parent);
let diff = difficulty(parent);
let prScore = priority(diff, group.length);

html += `
<div class="cluster-card">
<div class="cluster-title">${parent}</div>

<span class="badge blue">Cluster: ${group.length}</span>
<span class="badge yellow">${intent} Intent</span>
<span class="badge red">Difficulty: ${diff}</span>
<span class="badge green">Priority: ${prScore}</span>

<hr style="border:0;border-top:1px solid #1f2937;margin:10px 0;">
`;

group.forEach(k=>{
html+=`<span class="keyword-tag">${k}</span>`;
});

html+=`</div>`;

aiHTML += `
<div class="cluster-card">
<b>Main Topic:</b> ${parent}<br>
<b>Content Plan:</b><br>
â€¢ Create pillar article about <b>${parent}</b><br>
â€¢ Write 3â€“5 supporting articles using cluster keywords<br>
â€¢ Internally link cluster â†’ pillar<br>
â€¢ Target search intent: <b>${intent}</b><br>
</div>`;
});

document.getElementById("clusterContainer").innerHTML = html;
document.getElementById("aiSuggestions").innerHTML = aiHTML;

}

/* ---------- COPY ---------- */
function copyClusters(){
if(globalClusters.length === 0){
alert("Generate clusters first");
return;
}

let text="";

globalClusters.forEach(group=>{
text += "Topic: " + group[0] + "\n";
group.forEach(k=> text += "- " + k + "\n");
text+="\n";
});

navigator.clipboard.writeText(text);
alert("Clusters Copied!");
}

/* ---------- CSV ---------- */
function exportCSV(){
if(globalClusters.length === 0){
alert("Generate clusters first");
return;
}

let csv="Parent,Keyword\n";

globalClusters.forEach(group=>{
let parent=group[0];
group.forEach(k=>{
csv+= `"${parent}","${k}"\n`;
});
});

let blob=new Blob([csv],{type:"text/csv"});
let url=URL.createObjectURL(blob);

let a=document.createElement("a");
a.href=url;
a.download="keyword-clusters.csv";
a.click();
}

/* ---------- PRINT + PDF ---------- */
function printReport(){
window.print();
}

function downloadPDF(){
window.print();
}

</script>

</body>
</html>
